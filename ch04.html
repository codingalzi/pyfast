
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>4. 모듈과 패키지 &#8212; 데이터 과학용 파이썬 프로그래밍 특강</title>
    
  <link href="_static/css/theme.css" rel="stylesheet">
  <link href="_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. 입력과 출력" href="ch05.html" />
    <link rel="prev" title="3. 함수" href="ch03.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">데이터 과학용 파이썬 프로그래밍 특강</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro.html">
   데이터 과학과 파이썬
  </a>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="ch01.html">
   1. 기본 자료형
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch02.html">
   2. 기본 명령문
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch03.html">
   3. 함수
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   4. 모듈과 패키지
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch05.html">
   5. 입력과 출력
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch06.html">
   6. 예외 처리
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch07.html">
   7. 객체 지향 프로그래밍(OOP)
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/ch04.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/codingalzi/pyfast"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/codingalzi/pyfast/issues/new?title=Issue%20on%20page%20%2Fch04.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/codingalzi/pyfast/master?urlpath=tree/notebooks/ch04.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts">
   4.1. Scripts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importing-objects-from-modules">
   4.2. Importing objects from modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-modules">
   4.3. Creating modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-and-module-loading">
   4.4. ‘
   <strong>
    main
   </strong>
   ’ and module loading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts-or-modules-how-to-organize-your-code">
   4.5. Scripts or modules? How to organize your code
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#packages">
   4.6. Packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#good-practices">
   4.7. Good practices
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>모듈과 패키지</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts">
   4.1. Scripts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#importing-objects-from-modules">
   4.2. Importing objects from modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-modules">
   4.3. Creating modules
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#main-and-module-loading">
   4.4. ‘
   <strong>
    main
   </strong>
   ’ and module loading
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#scripts-or-modules-how-to-organize-your-code">
   4.5. Scripts or modules? How to organize your code
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#packages">
   4.6. Packages
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#good-practices">
   4.7. Good practices
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="id1">
<h1><span class="section-number">4. </span>모듈과 패키지<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h1>
<p>For now, we have typed all instructions in the interpreter. For longer
sets of instructions we need to change track and write the code in text
files (using a text editor), that we will call either <em>scripts</em> or
<em>modules</em>. Use your favorite text editor (provided it offers syntax
highlighting for Python), or the editor that comes with the Scientific
Python Suite you may be using.</p>
<div class="section" id="scripts">
<h2><span class="section-number">4.1. </span>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">¶</a></h2>
<p>Let us first write a <em>script</em>, that is a file with a sequence of
instructions that are executed each time the script is called.
Instructions may be e.g. copied-and-pasted from the interpreter (but
take care to respect indentation rules!).</p>
<p>The extension for Python files is <code class="docutils literal notranslate"><span class="pre">.py</span></code>. Write or copy-and-paste the
following lines in a file called <code class="docutils literal notranslate"><span class="pre">test.py</span></code> ::</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">message</span> <span class="o">=</span> <span class="s2">&quot;Hello how are you?&quot;</span>
<span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">message</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us now execute the script interactively, that is inside the
Ipython interpreter. This is maybe the most common use of scripts in
scientific computing.</p>
<p><strong>Note</strong></p>
<p>in Ipython, the syntax to execute a script is <code class="docutils literal notranslate"><span class="pre">%run</span> <span class="pre">script.py</span></code>. For
example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>In [1]: %run test.py
Hello
how
are
you?

In [2]: message
Out[2]: &#39;Hello how are you?&#39;
</pre></div>
</div>
<p>The script has been executed. Moreover the variables defined in the
script (such as <code class="docutils literal notranslate"><span class="pre">message</span></code>) are now available inside the interpreter’s
namespace.</p>
<p>Other interpreters also offer the possibility to execute scripts
(e.g., <code class="docutils literal notranslate"><span class="pre">execfile</span></code> in the plain Python interpreter, etc.).</p>
<p>It is also possible In order to execute this script as a <em>standalone
program</em>, by executing the script inside a shell terminal (Linux/Mac
console or cmd Windows console). For example, if we are in the same
directory as the <a class="reference external" href="http://test.py">test.py</a> file, we can execute this in a console:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python test.py
Hello
how
are
you?
</pre></div>
</div>
<p>Standalone scripts may also take command-line arguments</p>
<p>In <code class="docutils literal notranslate"><span class="pre">file.py</span></code>::</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python file.py <span class="nb">test</span> arguments
<span class="o">[</span><span class="s1">&#39;file.py&#39;</span>, <span class="s1">&#39;test&#39;</span>, <span class="s1">&#39;arguments&#39;</span><span class="o">]</span>
</pre></div>
</div>
<p><strong>Warning</strong></p>
<p>Don’t implement option parsing yourself. Use a dedicated module such as
<code class="docutils literal notranslate"><span class="pre">argparse</span></code>.</p>
</div>
<div class="section" id="importing-objects-from-modules">
<h2><span class="section-number">4.2. </span>Importing objects from modules<a class="headerlink" href="#importing-objects-from-modules" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">os</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">os</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;os&#39;</span> <span class="kn">from</span> <span class="s1">&#39;/usr/lib/python2.6/os.pyc&#39;</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">3</span><span class="p">]:</span>
<span class="p">[</span><span class="s1">&#39;conf.py&#39;</span><span class="p">,</span>
<span class="s1">&#39;basic_types.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;control_flow.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;functions.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;python_language.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;reusing.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;file_io.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;exceptions.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;workflow.rst&#39;</span><span class="p">,</span>
<span class="s1">&#39;index.rst&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>And also:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">listdir</span>
</pre></div>
</div>
<p>Importing shorthands:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>
</div>
<p><strong>Warning</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>This is called the <em>star import</em> and please, <strong>Do not use it</strong></p>
<ul class="simple">
<li><p>Makes the code harder to read and understand: where do symbols come
from?</p></li>
<li><p>Makes it impossible to guess the functionality by the context and
the name (hint: <code class="docutils literal notranslate"><span class="pre">os.name</span></code> is the name of the OS), and to profit
usefully from tab completion.</p></li>
<li><p>Restricts the variable names you can use: <code class="docutils literal notranslate"><span class="pre">os.name</span></code> might override
<code class="docutils literal notranslate"><span class="pre">name</span></code>, or vise-versa.</p></li>
<li><p>Creates possible name clashes between modules.</p></li>
<li><p>Makes the code impossible to statically check for undefined
symbols.</p></li>
</ul>
<p>Modules are thus a good way to organize code in a hierarchical way. Actually,
all the scientific computing tools we are going to use are modules::</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># data arrays</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="go">array([  0.,   2.,   4.,   6.,   8.,  10.])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="c1"># scientific computing</span>
</pre></div>
</div>
</div>
<div class="section" id="creating-modules">
<h2><span class="section-number">4.3. </span>Creating modules<a class="headerlink" href="#creating-modules" title="Permalink to this headline">¶</a></h2>
<p>If we want to write larger and better organized programs (compared to
simple scripts), where some objects are defined, (variables,
functions, classes) and that we want to reuse several times, we have
to create our own <em>modules</em>.</p>
<p>Let us create a module <code class="docutils literal notranslate"><span class="pre">demo</span></code> contained in the file <code class="docutils literal notranslate"><span class="pre">demo.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;A demo module.&quot;</span>

<span class="k">def</span> <span class="nf">print_b</span><span class="p">():</span>
    <span class="s2">&quot;Prints b.&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">print_a</span><span class="p">():</span>
    <span class="s2">&quot;Prints a.&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
    
<span class="n">c</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">d</span> <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>In this file, we defined two functions <code class="docutils literal notranslate"><span class="pre">print_a</span></code> and <code class="docutils literal notranslate"><span class="pre">print_b</span></code>. Suppose
we want to call the <code class="docutils literal notranslate"><span class="pre">print_a</span></code> function from the interpreter. We could
execute the file as a script, but since we just want to have access to
the function <code class="docutils literal notranslate"><span class="pre">print_a</span></code>, we are rather going to <strong>import it as a module</strong>.
The syntax is as follows.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">demo</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">demo</span><span class="o">.</span><span class="n">print_a</span><span class="p">()</span>
<span class="n">a</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">demo</span><span class="o">.</span><span class="n">print_b</span><span class="p">()</span>
<span class="n">b</span>
</pre></div>
</div>
<p>Importing the module gives access to its objects, using the
<code class="docutils literal notranslate"><span class="pre">module.object</span></code> syntax. Don’t forget to put the module’s name before the
object’s name, otherwise Python won’t recognize the instruction.</p>
<p>Introspection</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>In [4]: demo?
Type:               module
Base Class: &lt;type &#39;module&#39;&gt;
String Form:        &lt;module &#39;demo&#39; from &#39;demo.py&#39;&gt;
Namespace:  Interactive
File:               /home/varoquau/Projects/Python_talks/scipy_2009_tutorial/source/demo.py
Docstring:
A demo module.


In [5]: who
demo

In [6]: whos
Variable   Type      Data/Info
------------------------------
demo       module    &lt;module &#39;demo&#39; from &#39;demo.py&#39;&gt;

In [7]: dir(demo)
Out[7]:
[&#39;__builtins__&#39;,
&#39;__doc__&#39;,
&#39;__file__&#39;,
&#39;__name__&#39;,
&#39;__package__&#39;,
&#39;c&#39;,
&#39;d&#39;,
&#39;print_a&#39;,
&#39;print_b&#39;]


In [8]: demo.&lt;TAB&gt;
demo.c        demo.print_a  demo.py       
demo.d        demo.print_b  demo.pyc      
</pre></div>
</div>
<p>Importing objects from modules into the main namespace</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">9</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">demo</span> <span class="kn">import</span> <span class="n">print_a</span><span class="p">,</span> <span class="n">print_b</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">whos</span>
<span class="n">Variable</span>   <span class="n">Type</span>        <span class="n">Data</span><span class="o">/</span><span class="n">Info</span>
<span class="o">--------------------------------</span>
<span class="n">demo</span>       <span class="n">module</span>      <span class="o">&lt;</span><span class="n">module</span> <span class="s1">&#39;demo&#39;</span> <span class="kn">from</span> <span class="s1">&#39;demo.py&#39;</span><span class="o">&gt;</span>
<span class="n">print_a</span>    <span class="n">function</span>    <span class="o">&lt;</span><span class="n">function</span> <span class="n">print_a</span> <span class="n">at</span> <span class="mh">0xb7421534</span><span class="o">&gt;</span>
<span class="n">print_b</span>    <span class="n">function</span>    <span class="o">&lt;</span><span class="n">function</span> <span class="n">print_b</span> <span class="n">at</span> <span class="mh">0xb74214c4</span><span class="o">&gt;</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="n">print_a</span><span class="p">()</span>
<span class="n">a</span>
</pre></div>
</div>
<p><strong>Warning</strong>: <strong>Module caching</strong></p>
<p>Modules are cached: if you modify <code class="docutils literal notranslate"><span class="pre">demo.py</span></code> and re-import it in the
old session, you will get the old one.</p>
<p>Solution:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">reload</span><span class="p">(</span><span class="n">demo</span><span class="p">)</span>
</pre></div>
</div>
<p>In Python3 instead <code class="docutils literal notranslate"><span class="pre">reload</span></code> is not builtin, so you have to import the <code class="docutils literal notranslate"><span class="pre">importlib</span></code> module first and then do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">10</span><span class="p">]:</span> <span class="n">importlib</span><span class="o">.</span><span class="n">reload</span><span class="p">(</span><span class="n">demo</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="main-and-module-loading">
<h2><span class="section-number">4.4. </span>‘<strong>main</strong>’ and module loading<a class="headerlink" href="#main-and-module-loading" title="Permalink to this headline">¶</a></h2>
<p>Sometimes we want code to be executed when a module is
run directly, but not when it is imported by another module.
<code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">'__main__'</span></code> allows us to check whether the
module is being run directly.</p>
<p>File <code class="docutils literal notranslate"><span class="pre">demo2.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_b</span><span class="p">():</span>
    <span class="s2">&quot;Prints b.&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">print_a</span><span class="p">():</span>
    <span class="s2">&quot;Prints a.&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
    
<span class="c1"># print_b() runs on import</span>
<span class="n">print_b</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="c1"># print_a() is only executed when the module is run directly.</span>
    <span class="n">print_a</span><span class="p">()</span>
</pre></div>
</div>
<p>Importing it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">11</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">demo2</span>
<span class="n">b</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">12</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">demo2</span>
</pre></div>
</div>
<p>Running it:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">13</span><span class="p">]:</span> <span class="o">%</span><span class="n">run</span> <span class="n">demo2</span>
<span class="n">b</span>
<span class="n">a</span>
</pre></div>
</div>
</div>
<div class="section" id="scripts-or-modules-how-to-organize-your-code">
<h2><span class="section-number">4.5. </span>Scripts or modules? How to organize your code<a class="headerlink" href="#scripts-or-modules-how-to-organize-your-code" title="Permalink to this headline">¶</a></h2>
<p><strong>Note</strong> Rule of thumb</p>
<ul class="simple">
<li><p>Sets of instructions that are called several times should be
written inside <strong>functions</strong> for better code reusability.</p></li>
<li><p>Functions (or other bits of code) that are called from several
scripts should be written inside a <strong>module</strong>, so that only the
module is imported in the different scripts (do not copy-and-paste
your functions in the different scripts!).</p></li>
</ul>
<p><strong>How modules are found and imported</strong></p>
<p>When the <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">mymodule</span></code> statement is executed, the module <code class="docutils literal notranslate"><span class="pre">mymodule</span></code>
is searched in a given list of directories. This list includes a list
of installation-dependent default path (e.g., <code class="docutils literal notranslate"><span class="pre">/usr/lib/python</span></code>) as
well as the list of directories specified by the environment variable
<code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code>.</p>
<p>The list of directories searched by Python is given by the <code class="docutils literal notranslate"><span class="pre">sys.path</span></code>
variable</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">import</span> <span class="nn">sys</span>

<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> 
<span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="s1">&#39;/home/varoquau/.local/bin&#39;</span><span class="p">,</span>
<span class="s1">&#39;/usr/lib/python2.7&#39;</span><span class="p">,</span>
<span class="s1">&#39;/home/varoquau/.local/lib/python2.7/site-packages&#39;</span><span class="p">,</span>
<span class="s1">&#39;/usr/lib/python2.7/dist-packages&#39;</span><span class="p">,</span>
<span class="s1">&#39;/usr/local/lib/python2.7/dist-packages&#39;</span><span class="p">,</span>
<span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>Modules must be located in the search path, therefore you can:</p>
<ul>
<li><p>write your own modules within directories already defined in the
search path (e.g. <code class="docutils literal notranslate"><span class="pre">$HOME/.local/lib/python2.7/dist-packages</span></code>). You
may use symbolic links (on Linux) to keep the code somewhere else.</p></li>
<li><p>modify the environment variable <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> to include the
directories containing the user-defined modules.</p>
<p>On Linux/Unix, add the following line to a file read by the shell at
startup (e.g. /etc/profile, .profile)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">PYTHONPATH</span><span class="o">=</span><span class="nv">$PYTHONPATH</span>:/home/emma/user_defined_modules
</pre></div>
</div>
<p>On Windows, <a class="reference external" href="http://support.microsoft.com/kb/310519">http://support.microsoft.com/kb/310519</a> explains how to
handle environment variables.</p>
</li>
<li><p>or modify the <code class="docutils literal notranslate"><span class="pre">sys.path</span></code> variable itself within a Python script.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="n">new_path</span> <span class="o">=</span> <span class="s1">&#39;/home/emma/user_defined_modules&#39;</span>
<span class="k">if</span> <span class="n">new_path</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_path</span><span class="p">)</span>
</pre></div>
</div>
<p>This method is not very robust, however, because it makes the code
less portable (user-dependent path) and because you have to add the
directory to your sys.path each time you want to import from a module
in this directory.</p>
</li>
</ul>
</div>
<div class="section" id="packages">
<h2><span class="section-number">4.6. </span>Packages<a class="headerlink" href="#packages" title="Permalink to this headline">¶</a></h2>
<p>A directory that contains many modules is called a <em>package</em>. A package
is a module with submodules (which can have submodules themselves, etc.).
A special file called <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> (which may be empty) tells Python
that the directory is a Python package, from which modules can be
imported.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ls
cluster/        io/          README.txt@     stsci/
__config__.py@  LATEST.txt@  setup.py@       __svn_version__.py@
__config__.pyc  lib/         setup.pyc       __svn_version__.pyc
constants/      linalg/      setupscons.py@  THANKS.txt@
fftpack/        linsolve/    setupscons.pyc  TOCHANGE.txt@
__init__.py@    maxentropy/  signal/         version.py@
__init__.pyc    misc/        sparse/         version.pyc
INSTALL.txt@    ndimage/     spatial/        weave/
integrate/      odr/         special/
interpolate/    optimize/    stats/
$ <span class="nb">cd</span> ndimage
$ ls
doccer.py@   fourier.pyc   interpolation.py@  morphology.pyc   setup.pyc
doccer.pyc   info.py@      interpolation.pyc  _nd_image.so
setupscons.py@
filters.py@  info.pyc      measurements.py@   _ni_support.py@
setupscons.pyc
filters.pyc  __init__.py@  measurements.pyc   _ni_support.pyc  tests/
fourier.py@  __init__.pyc  morphology.py@     setup.py@
</pre></div>
</div>
<p>From Ipython:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>In [1]: import scipy

In [2]: scipy.__file__
Out[2]: &#39;/usr/lib/python2.6/dist-packages/scipy/__init__.pyc&#39;

In [3]: import scipy.version

In [4]: scipy.version.version
Out[4]: &#39;0.7.0&#39;

In [5]: import scipy.ndimage.morphology

In [6]: from scipy.ndimage import morphology

In [17]: morphology.binary_dilation?
Type:           function
Base Class:     &lt;type &#39;function&#39;&gt;
String Form:    &lt;function binary_dilation at 0x9bedd84&gt;
Namespace:      Interactive
File:           /usr/lib/python2.6/dist-packages/scipy/ndimage/morphology.py
Definition:     morphology.binary_dilation(input, structure=None,
iterations=1, mask=None, output=None, border_value=0, origin=0,
brute_force=False)
Docstring:
Multi-dimensional binary dilation with the given structure.

An output array can optionally be provided. The origin parameter
controls the placement of the filter. If no structuring element is
provided an element is generated with a squared connectivity equal
to one. The dilation operation is repeated iterations times.  If
iterations is less than 1, the dilation is repeated until the
result does not change anymore.  If a mask is given, only those
elements with a true value at the corresponding mask element are
modified at each iteration.
</pre></div>
</div>
</div>
<div class="section" id="good-practices">
<h2><span class="section-number">4.7. </span>Good practices<a class="headerlink" href="#good-practices" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Use <strong>meaningful</strong> object <strong>names</strong></p></li>
</ul>
<ul>
<li><p><strong>Indentation: no choice!</strong></p>
<p>Indenting is compulsory in Python! Every command block following a
colon bears an additional indentation level with respect to the
previous line with a colon. One must therefore indent after
<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">f():</span></code> or <code class="docutils literal notranslate"><span class="pre">while:</span></code>. At the end of such logical blocks, one
decreases the indentation depth (and re-increases it if a new block
is entered, etc.)</p>
<p>Strict respect of indentation is the price to pay for getting rid of
<code class="docutils literal notranslate"><span class="pre">{</span></code> or <code class="docutils literal notranslate"><span class="pre">;</span></code> characters that delineate logical blocks in other
languages. Improper indentation leads to errors such as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="o">------------------------------------------------------------</span>
<span class="ne">IndentationError</span><span class="p">:</span> <span class="n">unexpected</span> <span class="n">indent</span> <span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">py</span><span class="p">,</span> <span class="n">line</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>All this indentation business can be a bit confusing in the
beginning. However, with the clear indentation, and in the absence of
extra characters, the resulting code is very nice to read compared to
other languages.</p>
</li>
</ul>
<ul class="simple">
<li><p><strong>Indentation depth</strong>: Inside your text editor, you may choose to
indent with any positive number of spaces (1, 2, 3, 4, …). However,
it is considered good practice to <strong>indent with 4 spaces</strong>. You may
configure your editor to map the <code class="docutils literal notranslate"><span class="pre">Tab</span></code> key to a 4-space
indentation.</p></li>
</ul>
<ul>
<li><p><strong>Style guidelines</strong></p>
<p><strong>Long lines</strong>: you should not write very long lines that span over more
than (e.g.) 80 characters. Long lines can be broken with the <code class="docutils literal notranslate"><span class="pre">\</span></code>
character ::</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">long_line</span> <span class="o">=</span> <span class="s2">&quot;Here is a very very long line </span><span class="se">\</span>
<span class="gp">... </span><span class="s2">that we break in two parts.&quot;</span>
</pre></div>
</div>
<p><strong>Spaces</strong></p>
<p>Write well-spaced code: put whitespaces after commas, around arithmetic
operators, etc.::</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># yes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">=</span><span class="mi">1</span> <span class="c1"># too cramped</span>
</pre></div>
</div>
<p>A certain number of rules
for writing “beautiful” code (and more importantly using the same
conventions as anybody else!) are given in the
<a class="reference external" href="https://www.python.org/dev/peps/pep-0008">Style Guide for Python Code</a>.</p>
</li>
</ul>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="ch03.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">3. </span>함수</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ch05.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>입력과 출력</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By 코딩알지 & hj617kim<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>